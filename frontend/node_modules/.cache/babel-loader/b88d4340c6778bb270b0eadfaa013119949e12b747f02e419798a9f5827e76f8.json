{"ast":null,"code":"// import { Link, useLocation } from \"react-router-dom\";\n// import axios from \"axios\";\n// import \"./singlePost.css\";\n// import { useEffect, useState, useContext } from \"react\";\n// import { Context } from \"../../context/Context\";\n// export default function SinglePost() {\n//   const [post, setPost] = useState({});\n//   const location = useLocation();\n//   const pathParts = location.pathname.split('/');\n//   const id = pathParts[pathParts.length - 1];\n//   const PF = \"http://localhost:5000/images/\";\n//   const { user } = useContext(Context);\n//   const [title, setTitle] = useState(\"\");\n//   const [desc, setDesc] = useState(\"\");\n//   const [updateMode, setUpdateMode] = useState(false);\n//   useEffect(() => {\n//     const getPost = async () => {\n//       try {\n//         const res = await axios.get('http://localhost:5000/api/posts/' + id);\n//         console.log(res.data); // Assuming the response data contains the post\n//         setPost(res.data)\n//       } catch (error) {\n//         console.log(\"error during fetching data\");\n//         console.error(error);\n//       }\n//     };\n//     getPost();\n//   }, [id]);\n//   const handleDelete = async () => {\n//     try {\n//       await axios.delete(`http://localhost:5000/api/posts/${post._id}`, {\n//         data: { username: user.username },\n//       });\n//       window.location.replace(\"/\");\n//     } catch (err) { }\n//   };\n//   return (\n//     <div className=\"singlePost\">\n//       <div className=\"singlePostWrapper\">\n//         {post.photo && (\n//           <img src={PF + post.photo} alt=\"\" className=\"singlePostImg\" />\n//         )}\n//         {\n//           updateMode ?\n//             (\n//               <input\n//                 type=\"text\"\n//                 value={title}\n//                 className=\"singlePostTitleInput\"\n//                 autoFocus\n//                 onChange={(e) => setTitle(e.target.value)}\n//               />\n//             ) :\n//             (\n//               <h1 className=\"singlePostTitle\">\n//                 {post.title}\n//                 {post.username === user?.username &&\n//                   <div className=\"singlePostEdit\">\n//                     <i className=\"singlePostIcon far fa-edit\" onClick={() => setUpdateMode(true)}></i>\n//                     <i className=\"singlePostIcon far fa-trash-alt\" onClick={handleDelete}></i>\n//                   </div>\n//                 }\n//               </h1>\n//             )\n//         }\n//         <div className=\"singlePostInfo\">\n//           <span className=\"singlePostAuthor\">\n//             Author:\n//             <Link className=\"link\" to={`/?user=${post.username}`}>\n//               <b> {post.username}</b>\n//             </Link>\n//           </span>\n//           <span>{new Date(post.createdAt).toDateString()}</span>\n//         </div>\n//         {updateMode ?\n//           (\n//             <textarea className=\"singlePostDescInput\" />\n//           ) :\n//           (\n//             <p className=\"singlePostDesc\"> {post.desc}</p>\n//           )}\n//       </div>\n//     </div>\n//   );\n// }","map":{"version":3,"names":[],"sources":["C:/Users/pc/Desktop/Blog Mongodb/frontend/src/components/singlePost/SinglePost.jsx"],"sourcesContent":["// import { Link, useLocation } from \"react-router-dom\";\n// import axios from \"axios\";\n// import \"./singlePost.css\";\n// import { useEffect, useState, useContext } from \"react\";\n// import { Context } from \"../../context/Context\";\n// export default function SinglePost() {\n//   const [post, setPost] = useState({});\n//   const location = useLocation();\n//   const pathParts = location.pathname.split('/');\n//   const id = pathParts[pathParts.length - 1];\n//   const PF = \"http://localhost:5000/images/\";\n//   const { user } = useContext(Context);\n//   const [title, setTitle] = useState(\"\");\n//   const [desc, setDesc] = useState(\"\");\n//   const [updateMode, setUpdateMode] = useState(false);\n//   useEffect(() => {\n//     const getPost = async () => {\n//       try {\n//         const res = await axios.get('http://localhost:5000/api/posts/' + id);\n//         console.log(res.data); // Assuming the response data contains the post\n//         setPost(res.data)\n//       } catch (error) {\n//         console.log(\"error during fetching data\");\n//         console.error(error);\n//       }\n//     };\n//     getPost();\n//   }, [id]);\n//   const handleDelete = async () => {\n//     try {\n//       await axios.delete(`http://localhost:5000/api/posts/${post._id}`, {\n//         data: { username: user.username },\n//       });\n//       window.location.replace(\"/\");\n//     } catch (err) { }\n//   };\n//   return (\n//     <div className=\"singlePost\">\n//       <div className=\"singlePostWrapper\">\n//         {post.photo && (\n//           <img src={PF + post.photo} alt=\"\" className=\"singlePostImg\" />\n//         )}\n//         {\n//           updateMode ?\n//             (\n//               <input\n//                 type=\"text\"\n//                 value={title}\n//                 className=\"singlePostTitleInput\"\n//                 autoFocus\n//                 onChange={(e) => setTitle(e.target.value)}\n//               />\n//             ) :\n//             (\n//               <h1 className=\"singlePostTitle\">\n//                 {post.title}\n//                 {post.username === user?.username &&\n//                   <div className=\"singlePostEdit\">\n//                     <i className=\"singlePostIcon far fa-edit\" onClick={() => setUpdateMode(true)}></i>\n//                     <i className=\"singlePostIcon far fa-trash-alt\" onClick={handleDelete}></i>\n//                   </div>\n//                 }\n//               </h1>\n//             )\n//         }\n//         <div className=\"singlePostInfo\">\n//           <span className=\"singlePostAuthor\">\n//             Author:\n//             <Link className=\"link\" to={`/?user=${post.username}`}>\n//               <b> {post.username}</b>\n//             </Link>\n//           </span>\n//           <span>{new Date(post.createdAt).toDateString()}</span>\n//         </div>\n//         {updateMode ?\n//           (\n//             <textarea className=\"singlePostDescInput\" />\n//           ) :\n//           (\n//             <p className=\"singlePostDesc\"> {post.desc}</p>\n//           )}\n//       </div>\n//     </div>\n//   );\n// }"],"mappings":"AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA"},"metadata":{},"sourceType":"module","externalDependencies":[]}